---
title: From JSON Schema
description: 'Import and work with existing JSON Schema definitions'
icon: 'file-json'
---

Import existing JSON Schema definitions and convert them into schema objects for validation and manipulation. This feature allows you to work with external schemas, migrate from other tools, or load schemas from configuration files.

## Basic JSON Schema Import

Import a schema from a JSON string:

```php
use Cortex\JsonSchema\Schema;
use Cortex\JsonSchema\Enums\SchemaVersion;

// JSON Schema as string
$jsonString = '{
    "type": "object",
    "title": "User",
    "properties": {
        "name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100
        },
        "email": {
            "type": "string",
            "format": "email"
        },
        "age": {
            "type": "integer",
            "minimum": 0,
            "maximum": 150
        }
    },
    "required": ["name", "email"]
}';

// Import JSON Schema
$schema = Schema::fromJson($jsonString);

// Use the imported schema for validation
$userData = [
    'name' => 'John Doe',
    'email' => 'john@example.com',
    'age' => 30
];

$schema->isValid($userData); // true
```

## Import from Array

Import a schema from a PHP array representation:

```php
$schemaArray = [
    'type' => 'object',
    'title' => 'Product',
    'description' => 'E-commerce product schema',
    'properties' => [
        'sku' => [
            'type' => 'string',
            'pattern' => '^[A-Z]{3}-\d{4}$',
            'description' => 'Product SKU'
        ],
        'name' => [
            'type' => 'string',
            'minLength' => 1,
            'maxLength' => 200
        ],
        'price' => [
            'type' => 'number',
            'minimum' => 0,
            'multipleOf' => 0.01
        ],
        'categories' => [
            'type' => 'array',
            'items' => [
                'type' => 'string'
            ],
            'maxItems' => 5,
            'uniqueItems' => true
        ],
        'in_stock' => [
            'type' => 'boolean',
            'default' => true
        ]
    ],
    'required' => ['sku', 'name', 'price'],
    'additionalProperties' => false
];

// Import from array
$productSchema = Schema::fromJson($schemaArray);
```

<Accordion title="Imported Schema Usage">
```php
// Validate product data
$productData = [
    'sku' => 'ABC-1234',
    'name' => 'Wireless Headphones',
    'price' => 99.99,
    'categories' => ['electronics', 'audio'],
    'in_stock' => true
];

$productSchema->isValid($productData); // true

// Convert back to JSON
$jsonOutput = $productSchema->toJson(JSON_PRETTY_PRINT);
echo $jsonOutput;
```
</Accordion>

## Schema Version Detection and Specification

Import schemas with specific versions or detect automatically:

```php
// Draft 2019-09 schema with $defs
$modern_schema_json = '{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "type": "object",
    "title": "ModernUser",
    "$defs": {
        "address": {
            "type": "object",
            "properties": {
                "street": { "type": "string" },
                "city": { "type": "string" },
                "country": { "type": "string" }
            },
            "required": ["street", "city", "country"]
        }
    },
    "properties": {
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "deprecated_field": {
            "type": "string",
            "deprecated": true
        },
        "home_address": { "$ref": "#/$defs/address" },
        "work_address": { "$ref": "#/$defs/address" }
    },
    "required": ["name", "email"],
    "unevaluatedProperties": false
}';

// Import with automatic version detection
$modernSchema = Schema::fromJson($modern_schema_json);

// Or specify version explicitly
$explicitSchema = Schema::fromJson(
    $modern_schema_json,
    SchemaVersion::Draft_2019_09
);
```

## Complex Schema with References

Import schemas with definitions and references:

```php
$complex_api_schema = [
    '$schema' => 'http://json-schema.org/draft-07/schema#',
    'type' => 'object',
    'title' => 'APIResponse',
    'definitions' => [
        'user' => [
            'type' => 'object',
            'properties' => [
                'id' => ['type' => 'string'],
                'username' => ['type' => 'string'],
                'email' => ['type' => 'string', 'format' => 'email'],
                'profile' => ['$ref' => '#/definitions/profile']
            ],
            'required' => ['id', 'username', 'email']
        ],
        'profile' => [
            'type' => 'object',
            'properties' => [
                'first_name' => ['type' => 'string'],
                'last_name' => ['type' => 'string'],
                'avatar_url' => ['type' => 'string', 'format' => 'uri'],
                'bio' => ['type' => 'string', 'maxLength' => 500]
            ]
        ],
        'pagination' => [
            'type' => 'object',
            'properties' => [
                'page' => ['type' => 'integer', 'minimum' => 1],
                'per_page' => ['type' => 'integer', 'minimum' => 1, 'maximum' => 100],
                'total' => ['type' => 'integer', 'minimum' => 0],
                'total_pages' => ['type' => 'integer', 'minimum' => 0]
            ],
            'required' => ['page', 'per_page', 'total', 'total_pages']
        ]
    ],
    'properties' => [
        'success' => ['type' => 'boolean'],
        'data' => [
            'oneOf' => [
                ['$ref' => '#/definitions/user'],
                [
                    'type' => 'array',
                    'items' => ['$ref' => '#/definitions/user']
                ]
            ]
        ],
        'pagination' => ['$ref' => '#/definitions/pagination'],
        'message' => ['type' => 'string']
    ],
    'required' => ['success']
];

$apiSchema = Schema::fromJson($complex_api_schema);

// Validate API responses
$singleUserResponse = [
    'success' => true,
    'data' => [
        'id' => 'user_123',
        'username' => 'johndoe',
        'email' => 'john@example.com',
        'profile' => [
            'first_name' => 'John',
            'last_name' => 'Doe',
            'bio' => 'Software developer'
        ]
    ]
];

$apiSchema->isValid($singleUserResponse); // true
```

## Common Use Cases

<CardGroup cols={2}>
  <Card title="API Documentation" icon="server">
    Import OpenAPI schemas for request/response validation in API applications.
  </Card>
  <Card title="Configuration Management" icon="cog">
    Validate application configuration files using predefined JSON schemas.
  </Card>
  <Card title="Data Migration" icon="move">
    Import legacy schemas and validate data during migration processes.
  </Card>
  <Card title="Third-party Integration" icon="plug">
    Work with external JSON schemas from APIs, services, or documentation.
  </Card>
</CardGroup>
